### 쿠키
- 정의
  - 클라이언트(브라우저)에 저장되는 작은 데이터 조각
  - 사용자가 웹사이트를 방문할 때마다 서버에 전송됨
- 저장 위치
  - 클라이언트(사용자의 브라우저)
- 용도
  - 로그인 정보 저장
  - 팝업 창 "오늘 다시 보지 않기"
- 생명 주기
  - 사용자가 직접 삭제하지 않는 한 만료 기간이 지나기 전까지 유지
- 동작 순서
  1. 사용자가 웹사이트에 접속
  2. 웹서버는 쿠키를 생성
  3. 생성한 쿠키에 정보를 담아 클라이언트에게 전송
  4. 받은 쿠키는 클라이언트가 가지고 있다가 다시 서버에 요청할 때 요청과 함께 쿠키를 전송
  5. 동일 사이트 재방문 시 클라이언트의 PC에 해당 쿠키가 있는 경우, 요청 페이지와 함께 쿠키를 전송
![alt text](/network/img/cookie-session_cookie.png)
- 장점
  - 서버 자원을 사용하지 않음
  - 브라우저에서 확인 및 제어 가능
- 단점
  - 노출 위험 : 클라이언트에 저장되기 때문에 위변조 위험
  - 용량 제한 : 하나의 쿠키 당 4KB까지 저장 가능
  - 모든 요청마다 자동 전송되므로 불필요한 네트워크 오버헤드

---

### 세션
- 정의
  - 서버에 저장되는 사용자 상태 정보
  - 사용자의 요청에서 세션 ID를 기반으로 서버가 사용자를 식별
- 저장 위치
  - 서버 (메모리, DB 등)
- 용도
  - 로그인 상태 유지
  - 사용자 인증 및 권한 관리
- 생명 주기
  - 브라우저 종료 시 만료
- 동작 순서
  1. 클라이언트가 페이지에 접속
  2. 서버는 접근한 클라이언트의 쿠키를 확인 후, 클라이언트가 해당 세션ID를 보냈는지 확인
  3. 세션ID가 존재하지 않으면 서버는 세션ID를 생성 해 클라이언트에게 전송
  4. 클라이언트는 받은 세션ID를 쿠키에 저장
  5. 클라이언트는 서버에 요청 시 쿠키의 세션ID값을 같이 서버에 전달
  6. 서버는 전달받은 세션ID로 세션에 있는 클라이언트 정보를 가지고 요청을 처리 후 응답
![alt text](/network/img/cookie-session_session.png)
- 장점
  - 클라이언트에 중요한 데이터가 노출되지 않음
  - 비교적 안전하고 위변조가 어려움
- 단점
  - 서버 자원 소모(많은 사용자가 접속하면 서버에 부하 발생)
  - 서버가 사용자 상태를 기억해야 하므로 확장성 문제
> [!Note] 쿠키와 세션을 이용한 세션 기반 인증 방식의 문제점
> 다른 악의를 가진 사용자가 세션ID를 탈취 할 수 있음<br>
> -> https를 사용하거나, jwt와 같은 토큰 기반 인증 방식을 이용

### 캐시
- 정의
  - 자주 사용하는 데이터를 임시로 저장해두고, 빠르게 접근할 수 있도록 하는 저장소
- 저장위치
  - 브라우저, 프록시, 서버 등
- 동작 방식
  - 클라이언트에서 요청 -> 서버 or 중간서버(프록시/CDN)가 캐시에 있는지 확인 -> 있으면 캐시에서 바로 응답, 없으면 처리 후 캐시에 저장
- 장점
  - 성능향상 : 서버 부하 감소, 빠른 응답
  - 트래픽 감소 : 중복된 요청 감소
- 단점
  - 데이터 일관성 문제 : 실제 데이터와 다를 수 있음
  - 메모리 사용량 : 캐시된 데이터를 메모리에 저장해야하므로, 사용량이 높아짐


<br><br><br><br>
https://f-lab.kr/insight/cookie-vs-session?gad_source=1&gbraid=0AAAAACGgUFfnB_O9rlABx9HHMXCx1nDJc&gclid=CjwKCAjwk43ABhBIEiwAvvMEB6XTKeAASmCR3MRf8xs4gc9gJ47zp61ez9tJQ3zw1Jb2tRWF6xESzRoCdPsQAvD_BwE<br>
https://dev-coco.tistory.com/61<br>
https://maltyy.tistory.com/8<br>
https://www.youtube.com/watch?v=OpoVuwxGRDI